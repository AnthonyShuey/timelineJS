<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Media Gallery</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .media-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px;
        }
        .media-item {
            max-width: 300px;
            text-align: center;
        }
        .media-item-number {
            font-weight: bold;
            margin-bottom: 5px;
        }
        img, video, audio, iframe {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
        iframe {
            width: 300px;
            height: 200px;
            margin-bottom: 10px;
            border: none;
        }
    </style>
</head>
<body>
    <h1>My Media Gallery</h1>

    <div class="media-container" id="media-container">
        <!-- Media items will be dynamically inserted here -->
    </div>

    <script>
        // Combined media list (input as a space-separated list or newline-separated list)
        const mediaList = `https://drive.google.com/file/d/1ANmyBQrbAVS5MdVGmxBiarQL-KY_ft9_/view?usp=drive_link
        https://drive.google.com/file/d/1y0R09bbuuq8Ju4lyre_FM156lZ7RPF7b/view?usp=drive_link
        https://drive.google.com/file/d/1Qr65Af-WOPksZLBl2Y-GGiLJ9HzJN9vI/view?usp=drive_link`;

        // Split input strings into an array
        const mediaArray = mediaList.trim().split(/\s+/);

        const mediaContainer = document.getElementById('media-container');

        // Function to determine media type based on file extension
        function getMediaType(url) {
            const extension = url.split('.').pop().toLowerCase();
            if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'].includes(extension)) {
                return 'img';
            } else if (['mp4', 'webm', 'ogg', 'avi', 'mov'].includes(extension)) {
                return 'video';
            } else if (['mp3', 'wav', 'ogg', 'aac', 'flac'].includes(extension)) {
                return 'audio';
            } else if (url.includes('drive.google.com')) {
                return 'iframe';
            } else {
                return 'unknown';
            }
        }

        // Function to add media elements to the page
        function addMediaElement(type, src, alt = '', number) {
            const div = document.createElement('div');
            div.className = 'media-item';

            // Add number label
            const numberLabel = document.createElement('div');
            numberLabel.className = 'media-item-number';
            numberLabel.textContent = `Media ${number}`;
            div.appendChild(numberLabel);

            let element;

            if (type === 'img') {
                element = document.createElement('img');
                element.src = src;
                element.alt = alt;
            } else if (type === 'video') {
                element = document.createElement('video');
                element.controls = true;
                element.setAttribute('controlsList', 'nofullscreen nodownload noremoteplayback'); // Optional: Restrict fullscreen
                const source = document.createElement('source');
                source.src = src;
                source.type = `video/${src.split('.').pop()}`;
                element.appendChild(source);
            } else if (type === 'audio') {
                element = document.createElement('audio');
                element.controls = true;
                const source = document.createElement('source');
                source.src = src;
                source.type = `audio/${src.split('.').pop()}`;
                element.appendChild(source);
            } else if (type === 'iframe') {
                element = document.createElement('iframe');
                element.src = src.replace('/view?usp=drive_link', '/preview');
                element.allow = 'autoplay; fullscreen';
                element.allowFullscreen = true;  // This is crucial for enabling fullscreen
            }

            if (element) {
                div.appendChild(element);
                mediaContainer.appendChild(div);
            }
        }

        // Add media to the page based on its type
        mediaArray.forEach((media, index) => {
            const trimmedMedia = media.trim();
            const type = getMediaType(trimmedMedia);
            if (type !== 'unknown') {
                addMediaElement(type, trimmedMedia, '', index + 1);
            }
        });
    </script>
</body>
</html>


