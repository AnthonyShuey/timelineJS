<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Media Gallery</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .media-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px;
        }
        .media-item {
            max-width: 300px;
        }
        img, video, audio {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
        iframe {
            width: 300px;
            height: 200px;
            margin-bottom: 10px;
            border: none;
        }
    </style>
</head>
<body>
    <h1>My Media Gallery</h1>

    <div class="media-container" id="media-container">
        <!-- Media items will be dynamically inserted here -->
    </div>

    <script>
        // Combined media list (input as a space-separated list or newline-separated list)
        const mediaList = `https://drive.google.com/file/d/1ANmyBQrbAVS5MdVGmxBiarQL-KY_ft9_/view?usp=drive_link
        https://drive.google.com/file/d/1y0R09bbuuq8Ju4lyre_FM156lZ7RPF7b/view?usp=drive_link
        https://drive.google.com/file/d/1Qr65Af-WOPksZLBl2Y-GGiLJ9HzJN9vI/view?usp=drive_link`; // Example .mov file

        // Split input strings into an array
        const mediaArray = mediaList.trim().split(/\s+/);

        const mediaContainer = document.getElementById('media-container');

        // Function to determine media type based on file extension or URL
        function getMediaType(url) {
            const extension = url.split('.').pop().toLowerCase();
            if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'].includes(extension)) {
                return 'img';
            } else if (['mp4', 'webm', 'ogg', 'avi', 'mov'].includes(extension)) {
                return 'video';
            } else if (['mp3', 'wav', 'ogg', 'aac', 'flac'].includes(extension)) {
                return 'audio';
            } else if (url.includes('drive.google.com')) {
                return 'google-drive';
            } else {
                return 'unknown';
            }
        }

        // Function to convert Google Drive URLs to embed format
        function convertGoogleDriveURL(url) {
            const fileIdMatch = url.match(/\/d\/([a-zA-Z0-9_-]+)/);
            if (fileIdMatch) {
                return `https://drive.google.com/file/d/${fileIdMatch[1]}/preview`;
            }
            return url;
        }

        // Function to add media elements to the page
        function addMediaElement(type, src, alt = '') {
            const div = document.createElement('div');
            div.className = 'media-item';
            let element;

            if (type === 'img') {
                element = document.createElement('img');
                element.src = src;
                element.alt = alt;
            } else if (type === 'video') {
                element = document.createElement('video');
                element.controls = true;
                const source = document.createElement('source');
                source.src = src;
                source.type = `video/${src.split('.').pop()}`;
                element.appendChild(source);
            } else if (type === 'audio') {
                element = document.createElement('audio');
                element.controls = true;
                const source = document.createElement('source');
                source.src = src;
                source.type = `audio/${src.split('.').pop()}`;
                element.appendChild(source);
            } else if (type === 'google-drive') {
                element = document.createElement('iframe');
                element.src = convertGoogleDriveURL(src);
                element.width = '640';
                element.height = '480';
                element.allow = 'autoplay';
            }

            if (element) {
                div.appendChild(element);
                mediaContainer.appendChild(div);
            }
        }

        // Add media to the page based on its type
        mediaArray.forEach(media => {
            const trimmedMedia = media.trim();
            const type = getMediaType(trimmedMedia);
            if (type !== 'unknown') {
                addMediaElement(type, trimmedMedia);
            }
        });
    </script>
</body>
</html>


